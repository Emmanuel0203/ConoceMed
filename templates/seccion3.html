{% extends "base.html" %}
{% block title %}Secci칩n 1 - ConoceMed{% endblock %}

{% block content %}


<!-- Tipograf칤as estilo videojuego -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

 <link rel="stylesheet" href="{{ url_for('static', filename='css/seccion3.css') }}">

<section class="vista revista" id="seccion3">
  <div class="revista-contenido" id="revista-contenido">

    <!-- CARA 1 -->
    <div class="cara estilo-juego" id="cara1">
      <div class="level-badge">NIVEL 3</div>
      
      <div class="game-card">
        <div class="card-header">
          <h2 class="pixel-title">쯈u칠 es?</h2>
        </div>
        <div class="card-content">
          <div class="content-section">
            <div class="text-content">
              <p>
                Nuestra aplicaci칩n web es una herramienta interactiva dise침ada para facilitar el turismo en Medell칤n. A trav칠s de un mapa din치mico, los usuarios pueden explorar los principales puntos tur칤sticos de la ciudad por categor칤a, descubrir lugares culturales, gastron칩micos y hoteleros, haciendo que la experiencia de recorrer Medell칤n sea mucho m치s f치cil y enriquecedora, tanto para visitantes como para locales.
              </p>
            </div>
            <div class="image-content">
              <div class="game-frame">
                <img src="{{ url_for('static', filename='images/medellin.jpg') }}" alt="Imagen 1">
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="game-card">
        <div class="card-header">
          <h2 class="pixel-title">쯇or qu칠?</h2>
        </div>
        <div class="card-content">
          <div class="content-section reverse">
            <div class="image-content">
              <div class="game-frame">
                <img src="{{ url_for('static', filename='images/medellin1.jpg') }}" alt="Imagen 2">
              </div>
            </div>
            <div class="text-content">
              <p>
                Una aplicaci칩n web con mapa interactivo facilita a los turistas explorar Medell칤n de forma m치s c칩moda y segura. Permite ubicar sitios tur칤sticos, restaurantes, eventos y rutas de transporte en tiempo real, mejorando su experiencia. Adem치s, impulsa el turismo en zonas menos conocidas y refuerza la imagen de Medell칤n como una ciudad moderna, innovadora y acogedora.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- CARA 2 -->
      <div class="cara estilo-juego" id="cara2">
        <div class="level-badge">NIVEL 3</div>

        <div class="achievement-unlock">
          <div class="unlock-icon">游끥</div>
          <h3 class="pixel-title">Historia Desbloqueada</h3>
        </div>

        <div class="gallery-grid">
          {% for i in range(1,6) %}
          {% set fuente = [
            'www.eltiempo.com',
            'www.colombiamoda.com',
            'www.grupo-epm.com',
            'www.fiestadellibroylacultura.com',
            'www.medellin.gov.co'
          ][i-1] %}
          <div class="gallery-item">
            <!-- T칈TULO Y SUBT칈TULO ENCIMA DE LA IMAGEN -->
            <div class="item-header">
              <h3 class="item-title">
                {{ [
                  'Alumbrados Navide침os',
                  'Colombiamoda',
                  'Feria de flores',
                  'Feria del libro',
                  'Feria del tango'
                ][i-1] }}
              </h3>
              <p class="item-subtitle">
                {{ [
                  'De Dicimbre hasta Enero',
                  'Julio y Enero',
                  'Agosto',
                  'Septiembre',
                  'Finales de Junio'
                ][i-1] }}
              </p>
            </div>

            <div class="item-frame">
              <img src="{{ url_for('static', filename='images/' ~ i ~ '.jpg') }}" alt="Lugar {{ i }}">
              <div class="item-overlay">
                <span class="item-number">#{{ i }}</span>
              </div>
            </div>

            <div class="item-info">
              {% if 'www.' in fuente %}
                <a href="https://{{ fuente }}" target="_blank">{{ fuente }}</a>
              {% else %}
                {{ fuente }}
              {% endif %}
            </div>
          </div>
          {% endfor %}
        </div>
      </div>


    <!-- CARA 3 -->
    <div class="cara estilo-juego" id="cara3">
      <div class="level-badge">NIVEL 3</div>
      
      <div class="game-card full-width">
        <div class="card-header">
          <h2 class="pixel-title">쮺칩mo Funciona?</h2>
        </div>
        <div class="card-content">
          <div class="intro-text">
            <p>
              El usuario navega por un mapa interactivo con filtros por categor칤as (hoteler칤a, gastronom칤a, historia) y puede declarar o sugerir nuevos lugares para enriquecer la comunidad, haciendo del turismo una experiencia personalizada y participativa.
            </p>
          </div>
        </div>
      </div>

      <div class="quest-timeline">
        <div class="quest-step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>Inicio</h4>
            <p>Selecciona una categoria seg칰n el lugar de la categor칤a que quieras disfrutar.</p>
          </div>
        </div>

        <div class="quest-step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>Filtro</h4>
            <p>Explora el mapa y encuentra lugares.</p>
          </div>
        </div>

        <div class="quest-step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>Interacci칩n</h4>
            <p>Declara o sugiere nuevos lugares.</p>
          </div>
        </div>

        <div class="quest-step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4>Disfruta</h4>
            <p>Vive la experiencia personalizada.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Indicadores de p치gina -->
  <div class="page-indicators">
    <div class="indicator" data-page="0"></div>
    <div class="indicator" data-page="1"></div>
    <div class="indicator" data-page="2"></div>
  </div>
</section>

<!-- Script de navegaci칩n horizontal -->
<script>
  let currentPage = 0;
  const pages = document.querySelectorAll('.revista-contenido .cara');
  const totalPages = pages.length;

  function scrollPage(direction) {
    if (direction === 'right') {
      if (currentPage < totalPages - 1) {
        currentPage++;
      }
    } else if (direction === 'left') {
      if (currentPage > 0) {
        currentPage--;
      }
    }
    updatePageDisplay();
  }

  function updatePageDisplay() {
    const content = document.getElementById('revista-contenido');
    content.style.transform = `translateX(-${currentPage * 100}%)`;
    updateIndicators();
  }

  function updateIndicators() {
    const indicators = document.querySelectorAll('.indicator');
    indicators.forEach((indicator, index) => {
      if (index === currentPage) {
        indicator.classList.add('active');
      } else {
        indicator.classList.remove('active');
      }
    });
  }

  // Click en los indicadores para navegar
  function initIndicators() {
    const indicators = document.querySelectorAll('.indicator');
    indicators.forEach((indicator, index) => {
      indicator.addEventListener('click', () => {
        currentPage = index;
        updatePageDisplay();
      });
    });
  }

  window.onload = function () {
    updatePageDisplay();
    initIndicators();
    // Si la navegaci칩n lleg칩 por hash (#seccion3), forzamos un reflow
    // para asegurar que el carrusel horizontal est칠 posicionado correctamente.
    if (location.hash === '#seccion3') {
      // peque침o retardo para permitir al navegador completar el scroll al anchor
      setTimeout(() => {
        updatePageDisplay();
      }, 50);
    }
  };

  // Navegaci칩n con teclado
  document.addEventListener('keydown', function(e) {
    if (e.key === 'ArrowRight') {
      scrollPage('right');
    } else if (e.key === 'ArrowLeft') {
      scrollPage('left');
    }
  });

  // Sincronizar al cambiar el hash (cuando el usuario usa links del sidebar)
  window.addEventListener('hashchange', function() {
    // Si llegamos a la secci칩n 3, recalculamos la posici칩n del carrusel
    if (location.hash === '#seccion3') {
      // forzamos reflow y actualizaci칩n de transform
      const content = document.getElementById('revista-contenido');
      if (content) {
        // quitar la transici칩n moment치neamente evita animaciones extra침as
        const prev = content.style.transition;
        content.style.transition = 'none';
        updatePageDisplay();
        // reestablecer la transici칩n despu칠s de un fotograma
        requestAnimationFrame(() => {
          content.style.transition = prev || 'transform 0.7s cubic-bezier(0.4, 0, 0.2, 1)';
        });
      }
    }
  });
</script>

{% endblock %}